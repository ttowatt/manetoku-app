<div id="comment-like-<%= comment.id %>" class="d-flex align-items-center mr-2">
  <% liked = comment.comment_likes.exists?(user: current_user) %>

  <% if liked %>
    <% like = comment.comment_likes.find_by(user: current_user) %>
    <%= button_to public_post_comment_comment_like_path(comment.post, comment, like),
                  method: :delete,
                  remote: true,
                  class: 'comment-like-button btn btn-link p-0',
                  data: { comment_id: comment.id } do %>
      <i class="fa-solid fa-heart" style="color:red;"></i>
    <% end %>
  <% else %>
    <%= button_to public_post_comment_comment_likes_path(comment.post, comment),
                  method: :post,
                  remote: true,
                  class: 'comment-like-button btn btn-link p-0',
                  data: { comment_id: comment.id } do %>
      <i class="fa-regular fa-heart"></i>
    <% end %>
  <% end %>

  <span class="ml-1"><%= comment.comment_likes.count %></span>
</div>
